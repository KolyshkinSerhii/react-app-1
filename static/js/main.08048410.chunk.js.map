{"version":3,"sources":["Components/Navigation/Nav.module.css","Components/Users/User.module.css","Components/Users/Users.module.css","Images/loader.gif","Components/Profile/Profile.module.css","Components/Profile/MyPosts/Post/Post.module.css","serviceWorker.js","API/API.js","Redux/Profile-reducer.js","Redux/Messages-reducer.js","Utilities/Helpers/ObjectsInArray.js","Redux/Users-reducer.js","Redux/AuthReducer.js","Redux/App-reducer.js","Redux/Redux-store.js","Components/Navigation/Nav.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","Components/Dialogs/DialogItem/DialogItem.jsx","Components/Dialogs/Message/Message.jsx","Components/common/ControlForms.js","Utilities/Validation/Validator.js","Components/Dialogs/Message/DialogsForm/SendMessageForm.jsx","Components/Dialogs/Dialogs.jsx","HOC/WithAuthRedirect.js","Components/Dialogs/DialogsContainer.jsx","Components/common/Pagination/Pagination.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","Components/common/loader.jsx","Redux/Users-selectors.js","Components/Users/UsersContainer.jsx","Components/Profile/ProfileInfo/ProfileStatus-withHooks.jsx","Components/Profile/ProfileInfo/ProfileDataForm.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/ProfileForms/MyPostForm.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","Components/Friends/Friends.jsx","App.js","index.js","Images/user.png","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Header/Header.module.css","Components/Dialogs/Dialogs.module.css","Components/common/ControlForms.module.css","Components/Profile/MyPosts/MyPosts.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","instance","Axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","responce","data","follow","userId","post","unfollow","delete","getUserId","profileAPI","getProfile","authAPI","email","password","rememberMe","captcha","securityAPI","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","ADD_POST","SET_USER_PROFILE","SET_STATUS","SET_PHOTO","initialState","posts","id","message","likeCounts","setStatus","type","getUserProfile","dispatch","a","response","profileReducer","state","action","newPost","addPost","photos","SEND_MESSAGE","dialogs","name","messages","messagesReducer","body","newMessageBody","objectInArray","items","itemsId","objectPropName","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","users","totalItemsCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","isFetchingNow","toggleFollowingProgress","inProgress","followUnfollowFlow","APImethod","actionCreator","resultCode","usersReducer","followed","totalCount","filter","SET_USER_DATA","login","isAuth","captchaUrl","setAuthUserData","payload","setCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","messagesPage","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","Navigation","props","className","s","nav","item","to","activeClassName","active","friendsOnline","src","userPhoto","alt","News","Music","Settings","DialogItem","path","dialog","Message","FormControl","input","meta","touched","error","children","hasError","formControl","Textarea","restProps","Input","createField","placeholder","validators","components","text","Field","validate","component","required","value","maxLengthCreator","maxLength","length","maxLength100","SendMessageReduxForm","reduxForm","onSubmit","handleSubmit","SendMessage","sendNewMessage","Dialogs","dialogsElements","messageElements","m","dialogs_item","mapStateToPropsForRedirect","withAuthRedirect","Component","RedirectComponent","this","React","connect","compose","sendMessageCreator","Pagination","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPotionNumber","rightPortionNumber","paginationBlock","pagination","onClick","p","selectedPage","key","User","user","small","disabled","some","Users","Preloader","Loader","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","requestUsers","bind","ProfileStatusWithHooks","editMode","setEditMode","useEffect","isOwner","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","ProfileDataReduxForm","contacts","Object","keys","toLocaleLowerCase","Contacts","contactTitle","contactValue","ProfileData","toEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","ProfileInfo","description","large","target","files","initialValues","Post","SendMyPost","addNewPost","MyPosts","memo","postElements","elem","my_posts","MyPostsContainer","addPostActionCreator","Profile","content","ProfileContainer","params","authoraizedUserId","getUserStatus","refreshProfile","prevProps","prevState","snapshot","getState","wrongNetwork","slice","indexOf","stopSubmit","Promise","reject","withRouter","Header","header","rightSide","img","logo","loginBlock","logout","HeaderContainer","LoginReduxForm","_error","Friends","App","initializeApp","initialize","Nav","render","DialogsContainer","promise","all","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.08048410.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2r7Sk\",\"item\":\"Nav_item__123gJ\",\"active\":\"Nav_active__1Vsds\",\"friendsOnline\":\"Nav_friendsOnline__21Z-N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__oXz-q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__3c80h\"};","module.exports = __webpack_public_path__ + \"static/media/loader.3b00bc57.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__1QtWl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1HBvm\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as Axios from 'axios';\r\n\r\nconst instance = Axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"ab626cbb-a31d-4ced-b9fb-475e99a1b353\"\r\n    },\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\"\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(responce => {\r\n            return responce.data\r\n        })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getUserId(userId) {\r\n         return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post('auth/login', { email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login');\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    captchaUrl() {\r\n        return instance.get(`/security/get-captcha-url`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n         return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get('profile/status/' + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {status})\r\n    },\r\n    savePhoto(file) {\r\n        const formData = new FormData();\r\n        formData.append('image', file);\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-type': 'multipart-form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put('profile', profile)\r\n    }\r\n}","import { usersAPI, profileAPI } from '../API/API';\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst ADD_POST = 'network/profile/UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'network/profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'network/profile/SET-STATUS';\r\nconst SET_PHOTO = 'network/profile/SET-PHOTO'\r\n\r\n\r\nlet initialState = {\r\n    posts: [{\r\n            id: 1,\r\n            message: \"Hi\",\r\n            likeCounts: 12\r\n        },\r\n        {\r\n            id: 2,\r\n            message: \"Hey\",\r\n            likeCounts: 20\r\n        }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.addPost,\r\n                likeCounts: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            }\r\n            case SET_USER_PROFILE: {\r\n                return {\r\n                    ...state,\r\n                    profile: action.profile\r\n                };\r\n            }\r\n            case SET_STATUS: {\r\n                return {\r\n                    ...state,\r\n                    status: action.status\r\n                };\r\n            }\r\n            case SET_PHOTO: {\r\n                return {\r\n                    ...state,\r\n                    profile: {...state.profile, photos: action.photos}\r\n                }\r\n            }\r\n            default:\r\n                return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (addPost) => ({\r\n    type: ADD_POST,\r\n    addPost\r\n})\r\nexport const setPhoto = (photos) => ({\r\n    type: SET_PHOTO,\r\n    photos\r\n})\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n})\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getUserId(userId);\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setPhoto(response.data.data.photos))\r\n        }\r\n}\r\n\r\nexport const saveProfile = (file) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(file);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getUserProfile(userId));\r\n        } else {\r\n            let wrongNetwork = response.data.messages[0]\r\n              .slice(\r\n                response.data.messages[0].indexOf(\">\") + 1,\r\n                response.data.messages[0].indexOf(\")\")\r\n              )\r\n              .toLocaleLowerCase();\r\n            dispatch(\r\n              stopSubmit(\"edit-profile\", {\r\n                contacts: { [wrongNetwork]: response.data.messages[0] }\r\n              })\r\n            );\r\n            return Promise.reject(response.data.messages[0]);\r\n          }\r\n        \r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'network/messages/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [{\r\n        id: 1,\r\n        name: \"Dima\"\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Valera\"\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Peter\"\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Jason\"\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"John\"\r\n    },\r\n    {\r\n        id: 6,\r\n        name: \"Mila\"\r\n    }\r\n    ],\r\n    messages: [{\r\n        id: 1,\r\n        message: \"Hi\"\r\n    },\r\n    {\r\n        id: 2,\r\n        message: \"Hey\"\r\n    }\r\n    ]\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: \r\n            let body = action.newMessageBody\r\n                return {\r\n                ...state,\r\n                messages: [...state.messages, {id:3, message: body}]\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default messagesReducer;","export const objectInArray = (items, itemsId, objectPropName, newObjectProps ) => {\r\n    return items.map(u => {\r\n        if (u[objectPropName] === itemsId) {\r\n            return { ...u, ...newObjectProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from '../API/API';\r\nimport { objectInArray } from '../Utilities/Helpers/ObjectsInArray';\r\n\r\nconst FOLLOW = 'network/usersPage/FOLLOW';\r\nconst UNFOLLOW = 'network/usersPage/UNFOLLOW';\r\nconst SET_USERS = 'network/usersPage/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'network/usersPage/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'network/usersPage/SET-TOTAL-COUNT';\r\nconst IS_FETHING = 'IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING = 'TOGGLE-IS-FOLLOWING';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    totalItemsCount: 0,\r\n    pageSize: 12,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: objectInArray(state.users, action.userId, 'id', {followed: true} )\r\n            }\r\n            case UNFOLLOW:\r\n                return {\r\n                    ...state,\r\n                    users: objectInArray(state.users, action.userId, 'id', {followed: false} )\r\n                }\r\n            case SET_USERS: {\r\n                    return { ...state, users: action.users }\r\n                }\r\n            case SET_CURRENT_PAGE: {\r\n                    return { ...state, currentPage: action.currentPage }\r\n                }\r\n            case SET_TOTAL_COUNT: {\r\n                    return { ...state, totalItemsCount: action.totalCount }\r\n                }\r\n            case IS_FETHING: {\r\n                    return { ...state, isFetching: action.isFetching }\r\n                }\r\n            case TOGGLE_IS_FOLLOWING: {\r\n                    return {\r\n                        ...state,\r\n                        followingInProgress: action.inProgress ? [...state.followingInProgress, action.userId] : state.followingInProgress.filter(id => id !== action.userId)\r\n                    }\r\n                }\r\n            default:\r\n                    return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({\r\n    type: FOLLOW,\r\n    userId\r\n})\r\nexport const unfollowSuccess = (userId) => ({\r\n    type: UNFOLLOW,\r\n    userId\r\n})\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    users\r\n})\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n})\r\nexport const setTotalUsersCount = (totalCount) => ({\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount\r\n})\r\nexport const isFetchingNow = (isFetching) => ({\r\n    type: IS_FETHING,\r\n    isFetching\r\n})\r\nexport const toggleFollowingProgress = (inProgress, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING,\r\n    inProgress,\r\n    userId\r\n})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\r\n    dispatch(isFetchingNow(true));\r\n\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(isFetchingNow(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, APImethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await APImethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(userId), followSuccess);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(userId), unfollowSuccess);\r\n}\r\n\r\nexport default usersReducer;","import {\r\n    authAPI, securityAPI\r\n} from \"../API/API\";\r\nimport {\r\n    stopSubmit\r\n} from \"redux-form\"\r\n\r\nconst SET_USER_DATA = 'network/auth/SET-USER-DATA';\r\nconst SET_CAPTCHA_URL_SUCCESS = 'network/auth/SET-CAPTCHA-URL-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case SET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n            default:\r\n                return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId,email,login,isAuth}\r\n});\r\nexport const setCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: SET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {\r\n            id,\r\n            login,\r\n            email\r\n        } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\";\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.captchaUrl();\r\n    const captchaUrl = response.data.url\r\n    dispatch(setCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { getAuthUserData } from \"./AuthReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'network/App/INITIALIZED-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n    .then( ()=> {\r\n        dispatch(initializedSuccess());\r\n    })\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware} from \"redux\";\r\nimport profileReducer from \"./Profile-reducer\";\r\nimport messagesReducer from \"./Messages-reducer\";\r\nimport usersReducer from \"./Users-reducer\"\r\nimport authReducer from \"./AuthReducer\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./App-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n\r\nwindow.store = store;","import React from 'react';\r\nimport s from \"./Nav.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport userPhoto from \"..//..//Images/user.png\";\r\n\r\n\r\nconst Navigation = (props) => {\r\n  return (\r\n      <nav className={s.nav}>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/friends\" activeClassName={s.active}>Friends</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\r\n        </div>\r\n        <div className={s.friendsOnline}>\r\n          <NavLink to={'/profile/'}>\r\n            <div>\r\n              <img src={userPhoto} alt=\"\"></img>\r\n            </div>\r\n          </NavLink>\r\n        </div>\r\n      </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport s from \"./News.module.css\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div className={s.item}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from \"./Music.module.css\"\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from \"./Settings.module.css\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from \"./DialogItem.module.css\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from \"./Message.module.css\";\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.messages}>\r\n            <div className={s.message}>{props.message}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './ControlForms.module.css';\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>{children}</div>\r\n            { hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, components, props = {}, text = \"\") => {\r\n    return <div>\r\n                <Field placeholder={placeholder} name={name}\r\n                       validate={validators}\r\n                       component={components}\r\n                        {...props}/>{text}\r\n            </div>\r\n}","const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport default required\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength}`\r\n     return undefined;\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { Textarea } from '../../../common/ControlForms';\r\nimport required, { maxLengthCreator } from '../../../../Utilities/Validation/Validator';\r\n\r\nlet maxLength100 = maxLengthCreator(100)\r\n\r\nconst SendMessage = (props) => {\r\n\r\nlet addNewMessage = (value) => {\r\n    props.sendNewMessage(value.newMessageBody)\r\n}\r\n\r\n    return (\r\n        <div>\r\n            <SendMessageReduxForm onSubmit={addNewMessage}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SendMessageForm = (props) => {\r\n    return (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field placeholder={\"Enter your message\"} name={'newMessageBody'} component={Textarea} validate={[required, maxLength100]}></Field>\r\n                </div>\r\n                <div>\r\n                    <button>Send message</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nconst SendMessageReduxForm = reduxForm({ form: 'dialogsSendMessageForm' }) (SendMessageForm)\r\n\r\nexport default SendMessage;","import React from 'react';\r\nimport s from \"./Dialogs.module.css\";\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport SendMessage from './Message/DialogsForm/SendMessageForm';\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.messagesPage;\r\n\r\n    let dialogsElements = state.dialogs.map(dialog => <DialogItem name={dialog.name} id={dialog.id} />);\r\n\r\n    let messageElements = state.messages.map(m => <Message message={m.message} />);\r\n    \r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogs_item}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messageElements}\r\n                <SendMessage sendNewMessage={props.sendNewMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    \r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            \r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent;\r\n}","import { sendMessageCreator} from '../../Redux/Messages-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux'\r\nimport { withAuthRedirect } from '../../HOC/WithAuthRedirect';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    messagesPage: state.messagesPage\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendNewMessage: newMessageBody => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n) (Dialogs)","import React, { useState } from 'react';\r\nimport s from './Pagination.modules.css'\r\n\r\n\r\nconst Pagination = ({totalItemsCount, pageSize, onPageChanged, currentPage, portionSize = 10}) => {\r\n\r\n        let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n        let pages = [];\r\n        for (let i = 1; i <=pagesCount; i++) {\r\n            pages.push(i);\r\n        }\r\n\r\n        let portionCount = Math.ceil(pagesCount/portionSize);\r\n        let [portionNumber, setPortionNumber] = useState(1);\r\n        let leftPotionNumber = (portionNumber - 1) * portionSize + 1;\r\n        let rightPortionNumber = portionNumber * portionSize;\r\n\r\n        return ( \r\n\r\n            <div className={s.paginationBlock}>\r\n                <div className={s.pagination}>\r\n                {portionNumber > 1 && \r\n                <button onClick={ () => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\r\n                    {pages\r\n                    .filter(p => p >= leftPotionNumber && p <= rightPortionNumber)\r\n                    .map((p) => {\r\n                    return   <span className={currentPage === p && s.selectedPage} \r\n                        key ={p} \r\n                        onClick={() => {onPageChanged(p)}}>{p}</span>\r\n                    })}\r\n\r\n                {portionCount > portionNumber && \r\n                <button onClick={ () => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n            </div>\r\n            </div>\r\n    )}\r\nexport default Pagination;","import React from 'react';\r\nimport userPhoto from \"..//..//Images/user.png\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './User.module.css'\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}, ...props) => {\r\n        return (\r\n            <div className={s.user}>\r\n                <div>\r\n                    {<NavLink to={'/profile/' + user.id}>\r\n                        <div>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"\"></img>\r\n                        </div>\r\n                    </NavLink>}\r\n                    <div>\r\n                        {user.followed ? \r\n                            <button disabled={followingInProgress.some(id => id === user.id)} onClick={ () => {unfollow(user.id)}}>Unfollow</button> \r\n                            \r\n                            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={ () => {follow(user.id)}}>Follow</button>}\r\n                    </div>\r\n                </div>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </div>)\r\n        }\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport Pagination from '../common/Pagination/Pagination';\r\nimport User from './User';\r\nimport s from './Users.module.css'\r\n\r\n\r\nconst Users = ({ users, totalItemsCount, pageSize, onPageChanged, currentPage, ...props }) => {\r\n    return (\r\n        <div>\r\n                <Pagination totalItemsCount={totalItemsCount}\r\n                    pageSize={pageSize}\r\n                    onPageChanged={onPageChanged}\r\n                    currentPage={currentPage} />\r\n            <div className={s.user}>\r\n                {\r\n                    users.map(u => <User key={u.id}\r\n                            user={u}\r\n                            followingInProgress={props.followingInProgress}\r\n                            follow={props.follow}\r\n                            unfollow={props.unfollow}\r\n                            />)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport Loader from '..//..//Images/loader.gif'\r\n\r\nconst Preloader = (props) => {\r\n    return <div>\r\n                <img src={Loader} alt='' />\r\n            </div>\r\n}\r\n\r\nexport default Preloader;\r\n","import {createSelector} from 'reselect'\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalItemsCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage, unfollow, toggleFollowingProgress, requestUsers} from '../../Redux/Users-reducer';\r\nimport Users from \"./Users\";\r\nimport Preloader from '../common/loader';\r\nimport { compose } from \"redux\";\r\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUsers } from \"../../Redux/Users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.setCurrentPage(pageNumber)\r\n        this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    }\r\n    render () {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n                <Users totalItemsCount={this.props.totalItemsCount}\r\n                      pageSize={this.props.pageSize}\r\n                      users={this.props.users}\r\n                      currentPage={this.props.currentPage}\r\n                      onPageChanged={this.onPageChanged}\r\n                      follow={this.props.follow}\r\n                      unfollow={this.props.unfollow}\r\n                      followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state) ,\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers})\r\n) (UsersContainer)","import React, {useState} from 'react';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus ] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n\r\n    }\r\n\r\n        return (\r\n            <div>\r\n                {props.isOwner && !editMode &&\r\n                    <div>\r\n                        <span onDoubleClick={ activateEditMode }>{props.status || 'You can change status'}</span>\r\n                    </div>\r\n                }\r\n                {props.isOwner && editMode &&\r\n                    <div>\r\n                        <input onChange={ onStatusChange } autoFocus={true} onBlur={ deactivateEditMode } value={status} />\r\n                    </div>\r\n                }\r\n                {!props.isOwner &&\r\n                    <div>\r\n                        <span>{props.status}</span>\r\n                    </div>}\r\n            </div>\r\n        )\r\n    }\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport { Input, createField, Textarea } from '../../common/ControlForms';\r\nimport s from \"./ProfileInfo.module.css\";\r\n\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit, error, profile}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div><button>Save</button></div>\r\n            <div>\r\n                <b>Full name</b>: {createField('Full name', 'fullName', [], Input)}\r\n            </div>\r\n            <div><b>Looking for a job</b>:\r\n                {createField('', 'lookingForAJob', [], Input, {type: 'checkbox'})}\r\n            </div>\r\n            <div><b>Skills</b>: \r\n                {createField('Skills', 'lookingForAJobDescription',[], Textarea)}\r\n            </div>\r\n            <div><b>About me</b>: {createField('About me', 'aboutMe',[], Input)} </div>\r\n            <div> <b>Contacts</b>:\r\n                <div className={s.contacts}>\r\n                    <b>{Object.keys(profile.contacts).map(key => {\r\n                        return <div>{key}: {createField(key, 'contacts.' + key.toLocaleLowerCase(), [], Input)}</div>\r\n                    })}</b>\r\n                </div>\r\n            </div>\r\n            { error && <div>\r\n                    {error}\r\n                </div> }\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileDataReduxForm =  reduxForm({form: 'edit-profile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm;\r\n\r\n","import React, { useState } from 'react';\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport Preloader from '../../common/loader';\r\nimport ProfileStatusWithHooks from './ProfileStatus-withHooks';\r\nimport userPhoto from '..//..//../Images/user.png'\r\nimport ProfileDataReduxForm from './ProfileDataForm';\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onAvatarSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        props.saveProfile(formData).then(\r\n            () => {\r\n                setEditMode(false);\r\n            }\r\n        );\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className={s.profile}>\r\n            <div className={s.description}>\r\n                <div><img src={props.profile.photos.large || userPhoto} alt=\"\" /></div>\r\n                {props.isOwner && <input type={\"file\"} onChange={onAvatarSelected} />}\r\n\r\n                {editMode \r\n                ? <ProfileDataReduxForm initialValues={props.profile} profile={props.profile} onSubmit={onSubmit}/>\r\n                : <ProfileData toEditMode={() => {setEditMode(true)}} profile={props.profile} isOwner={props.isOwner}/>}\r\n                <div>\r\n                    <b>Status</b>: <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Contacts = ({ contactTitle, contactValue }) => {\r\n    return <div><b>{contactTitle}</b> : {contactValue}</div>\r\n}\r\nconst ProfileData = (props, toEditMode) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                {props.isOwner && <button onClick={props.toEditMode}>Edit profile</button>}\r\n            </div>\r\n            <div><b>Full name</b>: {props.profile.fullName} </div>\r\n            <div><b>Looking for a job</b>: {props.profile.lookingForAJob ? 'Yes' : 'No'} </div>\r\n            {props.profile.lookingForAJob &&\r\n                <div><b>Skills</b>: {props.profile.lookingForAJobDescription} </div>\r\n            }\r\n            <div><b>About me</b>: {props.profile.aboutMe} </div>\r\n            <div> <b>Contacts</b>:\r\n                <div className={s.contacts}>\r\n                    {Object.keys(props.profile.contacts).map(key => {\r\n                        return <Contacts key={key} contactTitle={key} contactValue={props.profile.contacts[key]} />\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={s.item}>\r\n        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTsP_Ur8FvgyIock3PjlvCNl0U90rPJA7hwjt41Ge1AIgml6kY3\" alt=\"\"></img>\r\n        {props.message}\r\n         <div>like {props.likeCounts}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport required, {maxLengthCreator } from '../../../Utilities/Validation/Validator';\r\nimport { Textarea, createField } from '../../common/ControlForms';\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nconst SendMyPost = (props) => {\r\n\r\n    let onAddNewPost = (value) => {\r\n        props.addNewPost(value.addPost);\r\n      }\r\n\r\n    return (\r\n        <div>\r\n            <SendMessageReduxForm onSubmit={onAddNewPost}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SendMyPostForm = ({handleSubmit}) => {\r\n    return (\r\n            <form onSubmit={handleSubmit}>\r\n                {createField('New post', 'addPost', [required, maxLength100], Textarea, {}, '')}\r\n                <div>\r\n                    <button>Add post</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nconst SendMessageReduxForm = reduxForm({ form: 'sendMyPost' }) (SendMyPostForm)\r\n\r\nexport default SendMyPost;","import React from 'react';\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from './Post/Post.jsx';\r\nimport SendMyPost from '../ProfileForms/MyPostForm';\r\n\r\nconst MyPosts = React.memo(props => {\r\n  \r\n  let postElements = props.posts.map(elem => <Post key={elem.id} message={elem.message} likeCounts={elem.likeCounts} />);\r\n\r\n  return (\r\n    <div>\r\n      <div className={s.my_posts}>\r\n        MyPosts\r\n        <SendMyPost addNewPost={props.addNewPost} />\r\n      </div>\r\n      <div className={s.post}>\r\n        {postElements}\r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default MyPosts;","import { addPostActionCreator } from '../../../Redux/Profile-reducer';\r\nimport MyPosts from './MyPosts.jsx';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addNewPost: (addPost) => {\r\n      dispatch(addPostActionCreator(addPost));\r\n    }\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from \"./Profile.module.css\";\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={s.content}>\r\n      <ProfileInfo profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n        isOwner={props.isOwner}\r\n        savePhoto={props.savePhoto}\r\n        saveProfile={props.saveProfile} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {getUserProfile, getUserStatus, updateStatus, savePhoto, saveProfile} from './../../Redux/Profile-reducer';\r\nimport Profile from './Profile';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../HOC/WithAuthRedirect';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authoraizedUserId;\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.match.params.userId != prevProps.match.params.userId) \r\n    {this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render()  {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props}\r\n        isOwner={!this.props.match.params.userId} \r\n        profile={this.props.profile}\r\n        status={this.props.status} \r\n        updateStatus={this.props.updateStatus}\r\n        savePhoto={this.props.savePhoto}\r\n        saveProfile={this.props.saveProfile}/>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({ \r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authoraizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n\r\n  connect (mapStateToProps, {getUserProfile, getUserStatus, updateStatus, savePhoto, saveProfile}),\r\n  withRouter,\r\n  withAuthRedirect\r\n) (ProfileContainer)","import React from 'react';\r\nimport s from \"./Header.module.css\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <div className={s.rightSide}>\r\n        <div>\r\n          <img className={s.img} src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQEu5LZKIe4h-OR00uA6wj-qaES5TGp4g0kQnjkdujgJxZM7HjD\" alt=\"\"></img>\r\n        </div>\r\n        <div className={s.logo}>RIDERS CLUB</div>\r\n      </div>\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth ? \r\n        <div>{props.login} | <button onClick={props.logout} >Logout</button> </div>\r\n          : <NavLink to={'/login/'}>login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import { connect } from \"react-redux\";\r\nimport {logout} from '../../Redux/AuthReducer'\r\nimport Header from \"./Header\";\r\nimport React from 'react';\r\n\r\nclass HeaderContainer extends React.Component  {\r\n    render () {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout}) (HeaderContainer);","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport {Input, createField} from \"../common/ControlForms\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/AuthReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport required from '../../Utilities/Validation/Validator';\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input)}\r\n            {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n            {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'Remember me')}\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt={\"\"}></img>}\r\n            {captchaUrl && createField('Enter correct symbols', 'captcha', [required], Input,)}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n            { error && <div>\r\n                    {error}\r\n                </div> }\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm =  reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login} )(Login);","import React from 'react';\r\n\r\nconst Friends = (props) => {\r\n    return (\r\n        <div>\r\n            Friends\r\n        </div>)\r\n    }\r\n\r\nexport default Friends;","import React from 'react';\nimport './App.css';\nimport Navigation from './Components/Navigation/Nav.jsx';\nimport { Route, withRouter } from 'react-router-dom';\nimport News from './Components/News/News';\nimport Music from './Components/Music/Music';\nimport Settings from './Components/Settings/Settings';\nimport DialogsContainer from './Components/Dialogs/DialogsContainer';\nimport UsersContainer from './Components/Users/UsersContainer';\nimport ProfileContainer from './Components/Profile/ProfileContainer';\nimport HeaderContainer from './Components/Header/HeaderContainer';\nimport Login from './Components/Login/Login';\nimport { connect } from 'react-redux';\nimport {initializeApp} from '../src/Redux/App-reducer'\nimport { compose } from 'redux';\nimport Preloader from './Components/common/loader';\nimport Friends from './Components/Friends/Friends';\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n}\n\n  render() {\n\n    if(!this.props.initialize) {\n      return <Preloader />\n    }\n\n    return (      \n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <Navigation />\n            <div className=\"app-wrapper-content\">\n              <Route path=\"/dialogs\" render={ () => <DialogsContainer />}/>\n              <Route path=\"/profile/:userId?\" render={ () => <ProfileContainer />}/>\n              <Route path=\"/friends\" render={ () => <Friends />}/>\n              <Route path=\"/users\" render={ () => <UsersContainer />}/>\n              <Route path=\"/news\" render={ () => <News />}/>\n              <Route path=\"/music\" render={ () => <Music />}/>\n              <Route path=\"/settings\" render={ () => <Settings />}/>\n              <Route path=\"/login\" render={ () => <Login />}/>\n            </div>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialize: state.app.initialized\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp})\n) (App)","import * as serviceWorker from './serviceWorker';\nimport store from \"./Redux/Redux-store\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\n\n\n    ReactDOM.render(\n        <BrowserRouter >\n            <Provider store={store} >\n                <App />\n            </Provider>\n        </BrowserRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__4hoeJ\",\"description\":\"ProfileInfo_description__1boq5\",\"contacts\":\"ProfileInfo_contacts__OSiZH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2zzqH\",\"rightSide\":\"Header_rightSide__25hmY\",\"img\":\"Header_img__2zhj8\",\"rotation\":\"Header_rotation__UF0g_\",\"logo\":\"Header_logo__DSpnV\",\"loginBlock\":\"Header_loginBlock__bDLuC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2ek4g\",\"dialogs_item\":\"Dialogs_dialogs_item__3V7Nx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"ControlForms_formControl__1hgFK\",\"error\":\"ControlForms_error__1o-bV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_posts\":\"MyPosts_my_posts__1jDS0\",\"post\":\"MyPosts_post__2R435\"};"],"sourceRoot":""}