(this["webpackJsonpreact-app-1"]=this["webpackJsonpreact-app-1"]||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){e.exports={user:"User_user__oXz-q"}},137:function(e,t,n){e.exports={pagination:"Users_pagination__2oyEq",user:"Users_user__3c80h"}},138:function(e,t,n){e.exports=n.p+"static/media/loader.3b00bc57.gif"},140:function(e,t,n){e.exports={content:"Profile_content__1QtWl"}},141:function(e,t,n){e.exports={item:"Post_item__1HBvm"}},15:function(e,t,n){e.exports={nav:"Nav_nav__2r7Sk",item:"Nav_item__123gJ",active:"Nav_active__1Vsds"}},167:function(e,t,n){e.exports=n(295)},250:function(e,t,n){},251:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(7),r=n(39),o=n(8),s=n.n(o),c=n(14),i=n(43),u=n(5),l=n(129).create({withCredentials:!0,headers:{"API-KEY":"f204f603-a647-41de-80aa-0a1511661d17"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),m={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return l.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return l.post("follow/".concat(e))},unfollow:function(e){return l.delete("follow/".concat(e))},getUserId:function(e){return h.getProfile(e)}},f=function(){return l.get("auth/me")},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},d=function(){return l.delete("auth/login")},g=function(){return l.get("/security/get-captcha-url")},h={getProfile:function(e){return l.get("profile/"+e)},getStatus:function(e){return l.get("profile/status/"+e)},updateStatus:function(e){return l.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),l.put("profile/photo",t,{headers:{"Content-type":"multipart-form-data"}})},saveProfile:function(e){return l.put("profile",e)}},v=n(20),E="network/profile/UPDATE-NEW-POST-TEXT",b="network/profile/SET-USER-PROFILE",O="network/profile/SET-STATUS",w="network/profile/SET-PHOTO",P={posts:[{id:1,message:"Hi",likeCounts:12},{id:2,message:"Hey",likeCounts:20}],profile:null,status:""},j=function(e){return{type:O,status:e}},C=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getUserId(e);case 2:a=t.sent,n((r=a.data,{type:b,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n={id:3,message:t.addPost,likeCounts:0};return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n])});case b:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case O:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case w:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.photos})});default:return e}},S="network/messages/SEND-MESSAGE",y={dialogs:[{id:1,name:"Dima"},{id:2,name:"Valera"},{id:3,name:"Peter"},{id:4,name:"Jason"},{id:5,name:"John"},{id:6,name:"Mila"}],messages:[{id:1,message:"Hi"},{id:2,message:"Hey"}]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n=t.newMessageBody;return Object(u.a)(Object(u.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),[{id:3,message:n}])});default:return e}},N=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(u.a)(Object(u.a)({},e),a):e}))},I="network/usersPage/FOLLOW",U="network/usersPage/UNFOLLOW",M="network/usersPage/SET-USERS",F="network/usersPage/SET-CURRENT-PAGE",L="network/usersPage/SET-TOTAL-COUNT",x={users:[],totalItemsCount:0,pageSize:12,currentPage:1,isFetching:!0,followingInProgress:[]},z=function(e){return{type:I,userId:e}},H=function(e){return{type:U,userId:e}},T=function(e){return{type:"IS-FETCHING",isFetching:e}},G=function(e,t){return{type:"TOGGLE-IS-FOLLOWING",inProgress:e,userId:t}},K=function(){var e=Object(c.a)(s.a.mark((function e(t,n,a,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(G(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(u.a)(Object(u.a)({},e),{},{users:N(e.users,t.userId,"id",{followed:!0})});case U:return Object(u.a)(Object(u.a)({},e),{},{users:N(e.users,t.userId,"id",{followed:!1})});case M:return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case F:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case L:return Object(u.a)(Object(u.a)({},e),{},{totalItemsCount:t.totalCount});case"IS-FETCHING":return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING":return Object(u.a)(Object(u.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},_="network/auth/SET-USER-DATA",J={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},R=function(e,t,n,a){return{type:_,payload:{userId:e,email:t,login:n,isAuth:a}}},X=function(e){return{type:"network/auth/SET-CAPTCHA-URL-SUCCESS",payload:{captchaUrl:e}}},B=function(){return function(){var e=Object(c.a)(s.a.mark((function e(t){var n,a,r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,c=a.email,t(R(r,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=function(){return function(){var e=Object(c.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n=e.sent,a=n.data.url,t(X(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case"network/auth/SET-CAPTCHA-URL-SUCCESS":return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}},Z=n(128),q=n(130),Y={initialized:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"network/App/INITIALIZED-SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},$=Object(a.c)({profilePage:k,messagesPage:A,usersPage:D,auth:V,form:Z.a,app:Q}),ee=Object(a.e)($,Object(a.a)(q.a)),te=ee;window.store=ee;var ne=n(0),ae=n.n(ne),re=n(64),oe=n.n(re),se=(n(250),n(25)),ce=n(26),ie=n(28),ue=n(27),le=(n(251),n(15)),me=n.n(le),fe=n(12),pe=function(e){return ae.a.createElement("nav",{className:me.a.nav},ae.a.createElement("div",{className:me.a.item},ae.a.createElement(fe.b,{to:"/profile",activeClassName:me.a.active},"Profile")),ae.a.createElement("div",{className:me.a.item},ae.a.createElement(fe.b,{to:"/dialogs",activeClassName:me.a.active},"Messages")),ae.a.createElement("div",{className:me.a.item},ae.a.createElement(fe.b,{to:"/friends",activeClassName:me.a.active},"Friends")),ae.a.createElement("div",{className:me.a.item},ae.a.createElement(fe.b,{to:"/users",activeClassName:me.a.active},"Users")),ae.a.createElement("div",{className:me.a.item},ae.a.createElement(fe.b,{to:"/news",activeClassName:me.a.active},"News")),ae.a.createElement("div",{className:me.a.item},ae.a.createElement(fe.b,{to:"/music",activeClassName:me.a.active},"Music")),ae.a.createElement("div",{className:me.a.item},ae.a.createElement(fe.b,{to:"/settings",activeClassName:me.a.active},"Settings")))},de=n(11),ge=n(133),he=n.n(ge),ve=function(){return ae.a.createElement("div",{className:he.a.item},"News")},Ee=(n(256),function(){return ae.a.createElement("div",null,"Music")}),be=(n(257),function(){return ae.a.createElement("div",null,"Settings")}),Oe=n(69),we=n.n(Oe),Pe=n(134),je=n.n(Pe),Ce=function(e){var t="/dialogs/"+e.id;return ae.a.createElement("div",{className:je.a.dialog},ae.a.createElement(fe.b,{to:t},e.name))},ke=n(91),Se=n.n(ke),ye=function(e){return ae.a.createElement("div",{className:Se.a.messages},ae.a.createElement("div",{className:Se.a.message},e.message))},Ae=n(126),Ne=n(127),Ie=n(55),Ue=n(92),Me=n.n(Ue),Fe=function(e){e.input;var t=e.meta,n=t.touched,a=t.error,r=e.children,o=n&&a;return ae.a.createElement("div",{className:Me.a.formControl+" "+(o?Me.a.error:"")},ae.a.createElement("div",null,r),o&&ae.a.createElement("span",null,a))},Le=function(e){var t=e.input,n=(e.meta,e.children,Object(Ie.a)(e,["input","meta","children"]));return ae.a.createElement(Fe,e,ae.a.createElement("textarea",Object.assign({},t,n)))},xe=function(e){var t=e.input,n=(e.meta,e.children,Object(Ie.a)(e,["input","meta","children"]));return ae.a.createElement(Fe,e,ae.a.createElement("input",Object.assign({},t,n)))},ze=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return ae.a.createElement("div",null,ae.a.createElement(Ae.a,Object.assign({placeholder:e,name:t,validate:n,component:a},r)),o)},He=function(e){if(!e)return"Field is required"},Te=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e)}},Ge=Te(100),Ke=Object(Ne.a)({form:"dialogsSendMessageForm"})((function(e){return ae.a.createElement("form",{onSubmit:e.handleSubmit},ae.a.createElement("div",null,ae.a.createElement(Ae.a,{placeholder:"Enter your message",name:"newMessageBody",component:Le,validate:[He,Ge]})),ae.a.createElement("div",null,ae.a.createElement("button",null,"Send message")))})),De=function(e){return ae.a.createElement("div",null,ae.a.createElement(Ke,{onSubmit:function(t){e.sendNewMessage(t.newMessageBody)},onSubmitSuccess:function(e,t){t(Object(v.a)("dialogsSendMessageForm"))}}))},_e=function(e){var t=e.messagesPage,n=t.dialogs.map((function(e){return ae.a.createElement(Ce,{name:e.name,id:e.id})})),a=t.messages.map((function(e){return ae.a.createElement(ye,{message:e.message})}));return ae.a.createElement("div",{className:we.a.dialogs},ae.a.createElement("div",{className:we.a.dialogs_item},n),ae.a.createElement("div",{className:we.a.messages},a,ae.a.createElement(De,{sendNewMessage:e.sendNewMessage})))},Je=n(10),Re=function(e){return{isAuth:e.auth.isAuth}},Xe=function(e){var t=function(t){Object(ie.a)(a,t);var n=Object(ue.a)(a);function a(){return Object(se.a)(this,a),n.apply(this,arguments)}return Object(ce.a)(a,[{key:"render",value:function(){return this.props.isAuth?ae.a.createElement(e,this.props):ae.a.createElement(de.a,{to:"/login"})}}]),a}(ae.a.Component);return Object(Je.b)(Re)(t)},Be=Object(a.d)(Object(Je.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{sendNewMessage:function(t){e(function(e){return{type:S,newMessageBody:e}}(t))}}})),Xe)(_e),We=n(36),Ve=n(71),Ze=n.n(Ve),qe=n(135),Ye=n.n(qe),Qe=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.onPageChanged,o=e.currentPage,s=e.portionSize,c=void 0===s?10:s,i=Math.ceil(t/n),u=[],l=1;l<=i;l++)u.push(l);var m=Math.ceil(i/c),f=Object(ne.useState)(1),p=Object(We.a)(f,2),d=p[0],g=p[1],h=(d-1)*c+1,v=d*c;return ae.a.createElement("div",{className:Ze.a.paginationBlock},d>1&&ae.a.createElement("button",{onClick:function(){g(d-1)}},"PREV"),u.filter((function(e){return e>=h&&e<=v})).map((function(e){return ae.a.createElement("span",{className:Ye()(Object(r.a)({},Ze.a.selectedPage,o===e),Ze.a.pageNumber),key:e,onClick:function(){a(e)}},e)})),m>d&&ae.a.createElement("button",{onClick:function(){g(d+1)}},"NEXT"))},$e=n(68),et=n.n($e),tt=n(136),nt=n.n(tt),at=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,r=e.follow;return ae.a.createElement("div",{className:nt.a.user},ae.a.createElement("div",null,ae.a.createElement(fe.b,{to:"/profile/"+t.id},ae.a.createElement("div",null,ae.a.createElement("img",{src:null!=t.photos.small?t.photos.small:et.a,alt:""}))),ae.a.createElement("div",null,t.followed?ae.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Unfollow"):ae.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Follow"))),ae.a.createElement("div",null,t.name),ae.a.createElement("div",null,t.status))},rt=n(137),ot=n.n(rt),st=function(e){var t=e.users,n=e.totalItemsCount,a=e.pageSize,r=e.onPageChanged,o=e.currentPage,s=Object(Ie.a)(e,["users","totalItemsCount","pageSize","onPageChanged","currentPage"]);return ae.a.createElement("div",null,ae.a.createElement(Qe,{totalItemsCount:n,pageSize:a,onPageChanged:r,currentPage:o}),ae.a.createElement("div",{className:ot.a.user},t.map((function(e){return ae.a.createElement(at,{key:e.id,user:e,followingInProgress:s.followingInProgress,follow:s.follow,unfollow:s.unfollow})}))))},ct=n(138),it=n.n(ct),ut=function(e){return ae.a.createElement("div",null,ae.a.createElement("img",{src:it.a,alt:""}))},lt=n(139),mt=Object(lt.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ft=function(e){return e.usersPage.pageSize},pt=function(e){return e.usersPage.totalItemsCount},dt=function(e){return e.usersPage.currentPage},gt=function(e){return e.usersPage.isFetching},ht=function(e){return e.usersPage.followingInProgress},vt=function(e){Object(ie.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.requestUsers(t,e.props.pageSize)},e}return Object(ce.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return ae.a.createElement(ae.a.Fragment,null,this.props.isFetching?ae.a.createElement(ut,null):null,ae.a.createElement(st,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,users:this.props.users,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),n}(ae.a.Component),Et=Object(a.d)(Object(Je.b)((function(e){return{users:mt(e),pageSize:ft(e),totalItemsCount:pt(e),currentPage:dt(e),isFetching:gt(e),followingInProgress:ht(e)}}),{follow:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(n,e,m.follow.bind(e),z);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(n,e,m.unfollow.bind(e),H);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:F,currentPage:e}},requestUsers:function(e,t){return function(){var n=Object(c.a)(s.a.mark((function n(a){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(T(!0)),n.next=3,m.getUsers(e,t);case 3:r=n.sent,a(T(!1)),a((s=r.items,{type:M,users:s})),a((o=r.totalCount,{type:L,totalCount:o}));case 7:case"end":return n.stop()}var o,s}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(vt),bt=n(140),Ot=n.n(bt),wt=n(44),Pt=n.n(wt),jt=function(e){var t=Object(ne.useState)(!1),n=Object(We.a)(t,2),a=n[0],r=n[1],o=Object(ne.useState)(e.status),s=Object(We.a)(o,2),c=s[0],i=s[1];Object(ne.useEffect)((function(){i(e.status)}),[e.status]);return ae.a.createElement("div",null,e.isOwner&&!a&&ae.a.createElement("div",null,ae.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"You can change status")),e.isOwner&&a&&ae.a.createElement("div",null,ae.a.createElement("input",{onChange:function(e){i(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(c)},value:c})),!e.isOwner&&ae.a.createElement("div",null,ae.a.createElement("span",null,e.status)))},Ct=Object(Ne.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.error,a=e.profile;return ae.a.createElement("form",{onSubmit:t},ae.a.createElement("div",null,ae.a.createElement("button",null,"Save")),ae.a.createElement("div",null,ae.a.createElement("b",null,"Full name"),": ",ze("Full name","fullName",[],xe)),ae.a.createElement("div",null,ae.a.createElement("b",null,"Looking for a job"),":",ze("","lookingForAJob",[],xe,{type:"checkbox"})),ae.a.createElement("div",null,ae.a.createElement("b",null,"Skills"),":",ze("Skills","lookingForAJobDescription",[],Le)),ae.a.createElement("div",null,ae.a.createElement("b",null,"About me"),": ",ze("About me","aboutMe",[],xe)," "),ae.a.createElement("div",null," ",ae.a.createElement("b",null,"Contacts"),":",ae.a.createElement("div",{className:Pt.a.contacts},ae.a.createElement("b",null,Object.keys(a.contacts).map((function(e){return ae.a.createElement("div",null,e,": ",ze(e,"contacts."+e.toLocaleLowerCase(),[],xe))}))))),n&&ae.a.createElement("div",null,n))})),kt=function(e){var t=e.contactTitle,n=e.contactValue;return ae.a.createElement("div",null,ae.a.createElement("b",null,t)," : ",n)},St=function(e,t){return ae.a.createElement("div",null,ae.a.createElement("div",null,e.isOwner&&ae.a.createElement("button",{onClick:e.toEditMode},"Edit profile")),ae.a.createElement("div",null,ae.a.createElement("b",null,"Full name"),": ",e.profile.fullName," "),ae.a.createElement("div",null,ae.a.createElement("b",null,"Looking for a job"),": ",e.profile.lookingForAJob?"Yes":"No"," "),e.profile.lookingForAJob&&ae.a.createElement("div",null,ae.a.createElement("b",null,"Skills"),": ",e.profile.lookingForAJobDescription," "),ae.a.createElement("div",null,ae.a.createElement("b",null,"About me"),": ",e.profile.aboutMe," "),ae.a.createElement("div",null," ",ae.a.createElement("b",null,"Contacts"),":",ae.a.createElement("div",{className:Pt.a.contacts},Object.keys(e.profile.contacts).map((function(t){return ae.a.createElement(kt,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})})))))},yt=function(e){var t=Object(ne.useState)(!1),n=Object(We.a)(t,2),a=n[0],r=n[1];if(!e.profile)return ae.a.createElement(ut,null);return ae.a.createElement("div",{className:Pt.a.profile},ae.a.createElement("div",{className:Pt.a.description},ae.a.createElement("div",null,ae.a.createElement("img",{src:e.profile.photos.large||et.a,alt:""})),e.isOwner&&ae.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),a?ae.a.createElement(Ct,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))}}):ae.a.createElement(St,{toEditMode:function(){r(!0)},profile:e.profile,isOwner:e.isOwner}),ae.a.createElement("div",null,ae.a.createElement("b",null,"Status"),": ",ae.a.createElement(jt,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}))))},At=n(95),Nt=n.n(At),It=n(141),Ut=n.n(It),Mt=function(e){return ae.a.createElement("div",null,ae.a.createElement("div",{className:Ut.a.item},ae.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTsP_Ur8FvgyIock3PjlvCNl0U90rPJA7hwjt41Ge1AIgml6kY3",alt:""}),e.message,ae.a.createElement("div",null,"like ",e.likeCounts)))},Ft=Te(100),Lt=Object(Ne.a)({form:"sendMyPost"})((function(e){return ae.a.createElement("form",{onSubmit:e.handleSubmit},ze("New post","addPost",[He,Ft],Le,{},""),ae.a.createElement("div",null,ae.a.createElement("button",null,"Add post")))})),xt=function(e){return ae.a.createElement("div",null,ae.a.createElement(Lt,{onSubmit:function(t){e.addNewPost(t.addPost)},onSubmitSuccess:function(e,t){t(Object(v.a)("sendMyPost"))}}))},zt=ae.a.memo((function(e){var t=e.posts.map((function(e){return ae.a.createElement(Mt,{key:e.id,message:e.message,likeCounts:e.likeCounts})}));return ae.a.createElement("div",null,ae.a.createElement("div",{className:Nt.a.my_posts},"MyPosts",ae.a.createElement(xt,{addNewPost:e.addNewPost})),ae.a.createElement("div",{className:Nt.a.post},t))})),Ht=Object(Je.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addNewPost:function(t){e(function(e){return{type:E,addPost:e}}(t))}}}))(zt),Tt=function(e){return ae.a.createElement("div",{className:Ot.a.content},ae.a.createElement(yt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),ae.a.createElement(Ht,null))},Gt=function(e){Object(ie.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ce.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authoraizedUserId),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return ae.a.createElement("div",null,ae.a.createElement(Tt,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})))}}]),n}(ae.a.Component),Kt=Object(a.d)(Object(Je.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authoraizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:C,getUserStatus:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getStatus(e);case 2:a=t.sent,n(j(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(j(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n((r=a.data.data.photos,{type:w,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,a){var o,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a().auth.userId,t.next=3,h.saveProfile(e);case 3:if(0!==(c=t.sent).data.resultCode){t.next=8;break}n(C(o)),t.next=11;break;case 8:return i=c.data.messages[0].slice(c.data.messages[0].indexOf(">")+1,c.data.messages[0].indexOf(")")).toLocaleLowerCase(),n(Object(v.b)("edit-profile",{contacts:Object(r.a)({},i,c.data.messages[0])})),t.abrupt("return",Promise.reject(c.data.messages[0]));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),de.f,Xe)(Gt),Dt=n(45),_t=n.n(Dt),Jt=function(e){return ae.a.createElement("header",{className:_t.a.header},ae.a.createElement("div",{className:_t.a.rightSide},ae.a.createElement("div",null,ae.a.createElement("img",{className:_t.a.img,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQEu5LZKIe4h-OR00uA6wj-qaES5TGp4g0kQnjkdujgJxZM7HjD",alt:""})),ae.a.createElement("div",{className:_t.a.logo},"RIDERS CLUB")),ae.a.createElement("div",{className:_t.a.loginBlock},e.isAuth?ae.a.createElement("div",null,e.login," | ",ae.a.createElement("button",{onClick:e.logout},"Logout")," "):ae.a.createElement(fe.b,{to:"/login/"},"login")))},Rt=function(e){Object(ie.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ce.a)(n,[{key:"render",value:function(){return ae.a.createElement(Jt,this.props)}}]),n}(ae.a.Component),Xt=Object(Je.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:0===e.sent.data.resultCode&&t(R(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Rt),Bt=Object(Ne.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return ae.a.createElement("form",{onSubmit:t},ze("Email","email",[He],xe),ze("Password","password",[He],xe,{type:"password"}),ze(null,"rememberMe",[],xe,{type:"checkbox"},"Remember me"),a&&ae.a.createElement("img",{src:a,alt:""}),a&&ze("Enter correct symbols","captcha",[He],xe),ae.a.createElement("div",null,ae.a.createElement("button",null,"Login")),n&&ae.a.createElement("div",null,n))})),Wt=Object(Je.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,a){return function(){var r=Object(c.a)(s.a.mark((function r(o){var c,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p(e,t,n,a);case 2:0===(c=r.sent).data.resultCode?o(B()):(10===c.data.resultCode&&o(W()),i=c.data.messages.length>0?c.data.messages[0]:"some error",o(Object(v.b)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?ae.a.createElement(de.a,{to:"/profile"}):ae.a.createElement("div",null,ae.a.createElement("h1",null,"Login"),ae.a.createElement(Bt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),Vt=function(e){return ae.a.createElement("div",null,"Friends")},Zt=function(e){Object(ie.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ce.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialize?ae.a.createElement("div",{className:"app-wrapper"},ae.a.createElement(Xt,null),ae.a.createElement(pe,null),ae.a.createElement("div",{className:"app-wrapper-content"},ae.a.createElement(de.b,{path:"/",render:function(){return ae.a.createElement(de.a,{to:"/profile"})}}),ae.a.createElement(de.b,{path:"/dialogs",render:function(){return ae.a.createElement(Be,null)}}),ae.a.createElement(de.b,{path:"/profile/:userId?",render:function(){return ae.a.createElement(Kt,null)}}),ae.a.createElement(de.b,{path:"/friends",render:function(){return ae.a.createElement(Vt,null)}}),ae.a.createElement(de.b,{path:"/users",render:function(){return ae.a.createElement(Et,{pageTitle:"samurai"})}}),ae.a.createElement(de.b,{path:"/news",render:function(){return ae.a.createElement(ve,null)}}),ae.a.createElement(de.b,{path:"/music",render:function(){return ae.a.createElement(Ee,null)}}),ae.a.createElement(de.b,{path:"/settings",render:function(){return ae.a.createElement(be,null)}}),ae.a.createElement(de.b,{path:"/login",render:function(){return ae.a.createElement(Wt,null)}}))):ae.a.createElement(ut,null)}}]),n}(ae.a.Component),qt=Object(a.d)(de.f,Object(Je.b)((function(e){return{initialize:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(B());Promise.all([t]).then((function(){e({type:"network/App/INITIALIZED-SUCCESS"})}))}}}))(Zt);oe.a.render(ae.a.createElement(fe.a,null,ae.a.createElement(Je.a,{store:te},ae.a.createElement(qt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,n){e.exports={profile:"ProfileInfo_profile__4hoeJ",description:"ProfileInfo_description__1boq5",contacts:"ProfileInfo_contacts__OSiZH"}},45:function(e,t,n){e.exports={header:"Header_header__2zzqH",rightSide:"Header_rightSide__25hmY",img:"Header_img__2zhj8",rotation:"Header_rotation__UF0g_",logo:"Header_logo__DSpnV",loginBlock:"Header_loginBlock__bDLuC"}},68:function(e,t){e.exports="data:image/png;base64,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"},69:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2ek4g",dialogs_item:"Dialogs_dialogs_item__3V7Nx",messages:"Dialogs_messages__3Hryw"}},71:function(e,t,n){e.exports={paginationBlock:"Pagination_paginationBlock__17IM8",pageNumber:"Pagination_pageNumber__2Ao92",selectedPage:"Pagination_selectedPage__3FDD4"}},91:function(e,t,n){},92:function(e,t,n){e.exports={formControl:"ControlForms_formControl__1hgFK",error:"ControlForms_error__1o-bV"}},95:function(e,t,n){e.exports={my_posts:"MyPosts_my_posts__1jDS0",post:"MyPosts_post__2R435"}}},[[167,1,2]]]);
//# sourceMappingURL=main.dc27b7b1.chunk.js.map